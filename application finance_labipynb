{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "01d47380-d416-4b9e-ac64-ba7a6298fbea",
   "metadata": {},
   "source": [
    " \n",
    "\n",
    "```python\n",
    "import streamlit as st\n",
    "import pandas as pd\n",
    "import numpy as np\n",
    "import plotly.graph_objects as go\n",
    "import plotly.express as px\n",
    "from plotly.subplots import make_subplots\n",
    "import yfinance as yf\n",
    "import requests\n",
    "from datetime import datetime, timedelta\n",
    "from sklearn.linear_model import LinearRegression\n",
    "from sklearn.ensemble import RandomForestRegressor\n",
    "import pickle\n",
    "from io import BytesIO\n",
    "\n",
    "# Configuration de la page\n",
    "st.set_page_config(\n",
    "    page_title=\"FinanceLab - Analyse Financi√®re\",\n",
    "    page_icon=\"üìä\",\n",
    "    layout=\"wide\",\n",
    "    initial_sidebar_state=\"expanded\"\n",
    ")\n",
    "\n",
    "# CSS personnalis√©\n",
    "st.markdown(\"\"\"\n",
    "<style>\n",
    "    .main-header {\n",
    "        font-size: 2.5rem;\n",
    "        color: #1f77b4;\n",
    "        text-align: center;\n",
    "        margin-bottom: 2rem;\n",
    "    }\n",
    "    .concept-box {\n",
    "        background-color: #f0f2f6;\n",
    "        padding: 1rem;\n",
    "        border-radius: 10px;\n",
    "        margin: 1rem 0;\n",
    "    }\n",
    "    .metric-card {\n",
    "        background-color: white;\n",
    "        padding: 1rem;\n",
    "        border-radius: 10px;\n",
    "        border-left: 4px solid #1f77b4;\n",
    "        box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n",
    "    }\n",
    "</style>\n",
    "\"\"\", unsafe_allow_html=True)\n",
    "\n",
    "# Initialisation de l'√©tat de session\n",
    "if 'progression' not in st.session_state:\n",
    "    st.session_state.progression = {\n",
    "        'fondamentaux': False,\n",
    "        'ratios': False,\n",
    "        'equilibre': False,\n",
    "        'evaluation': False,\n",
    "        'cas_pratiques': False,\n",
    "        'quiz': False\n",
    "    }\n",
    "\n",
    "if 'analyses_sauvegardees' not in st.session_state:\n",
    "    st.session_state.analyses_sauvegardees = []\n",
    "\n",
    "if 'watchlist' not in st.session_state:\n",
    "    st.session_state.watchlist = []\n",
    "\n",
    "if 'notifications' not in st.session_state:\n",
    "    st.session_state.notifications = [\n",
    "        {\"type\": \"info\", \"message\": \"üìö Module Fondamentaux √† compl√©ter\", \"date\": \"2024-01-15\"},\n",
    "        {\"type\": \"warning\", \"message\": \"‚ö° Quiz Ratios √† r√©viser\", \"date\": \"2024-01-14\"},\n",
    "        {\"type\": \"success\", \"message\": \"üéâ Bienvenue dans FinanceLab !\", \"date\": \"2024-01-13\"}\n",
    "    ]\n",
    "\n",
    "# Titre principal\n",
    "st.markdown('<h1 class=\"main-header\">üéØ FinanceLab - Ma√Ætrisez l\\'Analyse Financi√®re</h1>', unsafe_allow_html=True)\n",
    "\n",
    "# Sidebar pour la navigation\n",
    "st.sidebar.title(\"üìö Modules d'Apprentissage\")\n",
    "section = st.sidebar.radio(\n",
    "    \"Choisissez un module:\",\n",
    "    [\"üè† Accueil\", \"üìã Fondamentaux\", \"üí∞ Performance\", \"‚öñÔ∏è √âquilibre Financier\", \"üìä Analyse par Ratios\", \n",
    "     \"üéØ √âvaluation d'Entreprise\", \"üè¢ Cas Pratiques\", \"ü§ñ Pr√©visions IA\", \"üåç Donn√©es R√©elles\", \n",
    "     \"üíæ Mes Analyses\", \"üìä Mon Dashboard\", \"üîî Alertes & Veille\", \"üìë Reporting\", \"‚ùì Aide & Support\"]\n",
    ")\n",
    "\n",
    "# Fonction pour afficher les notifications\n",
    "def afficher_notifications():\n",
    "    if st.session_state.notifications:\n",
    "        st.sidebar.markdown(\"---\")\n",
    "        st.sidebar.subheader(\"üîî Notifications\")\n",
    "        \n",
    "        for notif in st.session_state.notifications[:3]:\n",
    "            if notif[\"type\"] == \"info\":\n",
    "                st.sidebar.info(notif[\"message\"])\n",
    "            elif notif[\"type\"] == \"warning\":\n",
    "                st.sidebar.warning(notif[\"message\"])\n",
    "            elif notif[\"type\"] == \"success\":\n",
    "                st.sidebar.success(notif[\"message\"])\n",
    "\n",
    "# Appel de la fonction notifications\n",
    "afficher_notifications()\n",
    "\n",
    "# Section Accueil\n",
    "if section == \"üè† Accueil\":\n",
    "    st.header(\"üè† Bienvenue dans FinanceLab !\")\n",
    "    \n",
    "    col1, col2 = st.columns([2, 1])\n",
    "    \n",
    "    with col1:\n",
    "        st.markdown(\"\"\"\n",
    "        ## üéØ Votre Laboratoire d'Analyse Financi√®re\n",
    "        \n",
    "        **FinanceLab** est une plateforme compl√®te d'apprentissage interactif de l'analyse financi√®re.\n",
    "        Que vous soyez √©tudiant, professionnel ou entrepreneur, ma√Ætrisez les concepts cl√©s gr√¢ce √† des outils pratiques et des cas concrets.\n",
    "        \n",
    "        ### üìö Ce que vous allez apprendre:\n",
    "        \n",
    "        ‚úÖ **Les fondamentaux** de l'information financi√®re  \n",
    "        ‚úÖ **L'analyse des ratios** et indicateurs de performance  \n",
    "        ‚úÖ **L'√©quilibre financier** (FR, BFR, Tr√©sorerie)  \n",
    "        ‚úÖ **Les m√©thodes d'√©valuation** d'entreprise  \n",
    "        ‚úÖ **La pr√©vision** avec l'intelligence artificielle  \n",
    "        ‚úÖ **L'analyse de donn√©es r√©elles** du march√©  \n",
    "        \n",
    "        ### üöÄ Comment progresser:\n",
    "        \n",
    "        1. **Commencez** par les fondamentaux\n",
    "        2. **Pratiquez** avec les calculateurs interactifs\n",
    "        3. **Testez** vos connaissances avec les quiz\n",
    "        4. **Appliquez** sur des cas concrets\n",
    "        5. **Validez** votre progression avec le dashboard\n",
    "        \"\"\")\n",
    "    \n",
    "    with col2:\n",
    "        st.image(\"https://via.placeholder.com/300x400/1f77b4/ffffff?text=FinanceLab\", use_column_width=True)\n",
    "        \n",
    "        # Quick start\n",
    "        st.markdown(\"### üöÄ D√©marrage Rapide\")\n",
    "        if st.button(\"üìä Commencer par les fondamentaux\"):\n",
    "            st.session_state.progression['fondamentaux'] = True\n",
    "            st.rerun()\n",
    "        \n",
    "        if st.button(\"üí∞ Analyser la performance\"):\n",
    "            st.session_state.progression['ratios'] = True\n",
    "            st.rerun()\n",
    "\n",
    "    # Statistiques globales\n",
    "    st.markdown(\"---\")\n",
    "    st.subheader(\"üìà Votre Progression Globale\")\n",
    "    \n",
    "    modules_completes = sum(st.session_state.progression.values())\n",
    "    progression_totale = (modules_completes / len(st.session_state.progression)) * 100\n",
    "    \n",
    "    col_met1, col_met2, col_met3, col_met4 = st.columns(4)\n",
    "    \n",
    "    with col_met1:\n",
    "        st.metric(\"Modules Compl√©t√©s\", f\"{modules_completes}/6\")\n",
    "    with col_met2:\n",
    "        st.metric(\"Progression Globale\", f\"{progression_totale:.0f}%\")\n",
    "    with col_met3:\n",
    "        st.metric(\"Analyses Sauvegard√©es\", len(st.session_state.analyses_sauvegardees))\n",
    "    with col_met4:\n",
    "        st.metric(\"Entreprises Surveill√©es\", len(st.session_state.watchlist))\n",
    "\n",
    "# Section Fondamentaux\n",
    "elif section == \"üìã Fondamentaux\":\n",
    "    st.header(\"üìã Les Fondamentaux de l'Information Financi√®re\")\n",
    "    \n",
    "    # Marquer comme compl√©t√©\n",
    "    if not st.session_state.progression['fondamentaux']:\n",
    "        if st.button(\"‚úÖ Marquer ce module comme compl√©t√©\"):\n",
    "            st.session_state.progression['fondamentaux'] = True\n",
    "            st.session_state.notifications.append({\n",
    "                \"type\": \"success\", \n",
    "                \"message\": \"üéâ Module Fondamentaux compl√©t√© !\", \n",
    "                \"date\": datetime.now().strftime(\"%Y-%m-%d\")\n",
    "            })\n",
    "            st.rerun()\n",
    "    \n",
    "    tab1, tab2, tab3, tab4 = st.tabs([\"üìä Principes Comptables\", \"üè¶ Le Bilan\", \"üìà Compte de R√©sultat\", \"üßÆ Soldes Interm√©diaires\"])\n",
    "    \n",
    "    with tab1:\n",
    "        st.subheader(\"Les 10 Principes Comptables Fondamentaux\")\n",
    "        \n",
    "        principles = {\n",
    "            \"Principe de prudence\": \"Anticiper les pertes, ne pas anticiper les gains. Se pr√©parer aux difficult√©s sans compter sur les opportunit√©s incertaines.\",\n",
    "            \"Continuit√© d'exploitation\": \"L'entreprise continue son activit√© normalement. Les √©tats financiers sont pr√©par√©s dans cette perspective.\",\n",
    "            \"Co√ªt historique\": \"√âvaluation des actifs √† leur prix d'acquisition. M√™me si la valeur de march√© a augment√©.\",\n",
    "            \"Ind√©pendance des exercices\": \"Rattacher charges et produits √† la bonne p√©riode. Chaque exercice doit refl√©ter sa propre performance.\",\n",
    "            \"Permanence des m√©thodes\": \"Application constante des r√®gles dans le temps. Permet la comparabilit√© des √©tats financiers.\",\n",
    "            \"Non-compensation\": \"Ne pas compenser actif/passif ou charges/produits. Chaque √©l√©ment doit appara√Ætre distinctement.\",\n",
    "            \"Image fid√®le\": \"Les comptes doivent refl√©ter la r√©alit√© √©conomique de l'entreprise, au-del√† de la simple l√©galit√©.\",\n",
    "            \"Primaut√© de la r√©alit√© √©conomique\": \"La substance prime sur la forme. L'analyse √©conomique pr√©vaut sur l'apparence juridique.\",\n",
    "            \"Sp√©cialisation des exercices\": \"Chaque exercice a sa propre d√©termination du r√©sultat. Pas de report de b√©n√©fices ou pertes.\",\n",
    "            \"Juste valeur\": \"√âvaluation √† la valeur de march√© quand elle est disponible et fiable.\"\n",
    "        }\n",
    "        \n",
    "        col1, col2 = st.columns(2)\n",
    "        with col1:\n",
    "            for principle, description in list(principles.items())[:5]:\n",
    "                with st.expander(f\"‚úÖ {principle}\"):\n",
    "                    st.write(description)\n",
    "        \n",
    "        with col2:\n",
    "            for principle, description in list(principles.items())[5:]:\n",
    "                with st.expander(f\"‚úÖ {principle}\"):\n",
    "                    st.write(description)\n",
    "    \n",
    "    with tab2:\n",
    "        st.subheader(\"üîÑ Reclassement du Bilan Interactif\")\n",
    "        \n",
    "        col1, col2 = st.columns(2)\n",
    "        \n",
    "        with col1:\n",
    "            st.markdown(\"#### Bilan Comptable (Saisie)\")\n",
    "            \n",
    "            # Actif\n",
    "            st.markdown(\"**ACTIF**\")\n",
    "            immob_incorporelles = st.number_input(\"Immobilisations incorporelles\", value=150000)\n",
    "            immob_corporelles = st.number_input(\"Immobilisations corporelles\", value=450000)\n",
    "            immob_financieres = st.number_input(\"Immobilisations financi√®res\", value=200000)\n",
    "            stocks = st.number_input(\"Stocks\", value=120000)\n",
    "            clients = st.number_input(\"Clients et comptes rattach√©s\", value=180000)\n",
    "            disponibilites = st.number_input(\"Disponibilit√©s\", value=50000)\n",
    "            \n",
    "            # Passif\n",
    "            st.markdown(\"**PASSIF**\")\n",
    "            capital = st.number_input(\"Capital social\", value=300000)\n",
    "            reserves = st.number_input(\"R√©serves\", value=200000)\n",
    "            resultat = st.number_input(\"R√©sultat de l'exercice\", value=50000)\n",
    "            emprunts_longs = st.number_input(\"Emprunts √† long terme\", value=250000)\n",
    "            fournisseurs = st.number_input(\"Fournisseurs\", value=150000)\n",
    "            dettes_fiscales = st.number_input(\"Dettes fiscales et sociales\", value=100000)\n",
    "        \n",
    "        with col2:\n",
    "            st.markdown(\"#### Bilan Financier Reclass√©\")\n",
    "            \n",
    "            # Calculs pour le bilan financier\n",
    "            actif_immobilise = immob_incorporelles + immob_corporelles + immob_financieres\n",
    "            actif_circulant = stocks + clients\n",
    "            tresorerie_actif = disponibilites\n",
    "            \n",
    "            capitaux_propres = capital + reserves + resultat\n",
    "            dettes_financieres = emprunts_longs\n",
    "            passif_circulant = fournisseurs + dettes_fiscales\n",
    "            \n",
    "            # Affichage du bilan financier\n",
    "            st.markdown(\"**ACTIF**\")\n",
    "            st.write(f\"Actif immobilis√©: {actif_immobilise:,.0f} ‚Ç¨\")\n",
    "            st.write(f\"Actif circulant: {actif_circulant:,.0f} ‚Ç¨\")\n",
    "            st.write(f\"Tr√©sorerie active: {tresorerie_actif:,.0f} ‚Ç¨\")\n",
    "            st.write(f\"**Total Actif: {actif_immobilise + actif_circulant + tresorerie_actif:,.0f} ‚Ç¨**\")\n",
    "            \n",
    "            st.markdown(\"**PASSIF**\")\n",
    "            st.write(f\"Capitaux propres: {capitaux_propres:,.0f} ‚Ç¨\")\n",
    "            st.write(f\"Dettes financi√®res: {dettes_financieres:,.0f} ‚Ç¨\")\n",
    "            st.write(f\"Passif circulant: {passif_circulant:,.0f} ‚Ç¨\")\n",
    "            st.write(f\"**Total Passif: {capitaux_propres + dettes_financieres + passif_circulant:,.0f} ‚Ç¨**\")\n",
    "            \n",
    "            # V√©rification de l'√©quilibre\n",
    "            total_actif = actif_immobilise + actif_circulant + tresorerie_actif\n",
    "            total_passif = capitaux_propres + dettes_financieres + passif_circulant\n",
    "            \n",
    "            if abs(total_actif - total_passif) < 1:\n",
    "                st.success(\"‚úÖ Le bilan est √©quilibr√© !\")\n",
    "            else:\n",
    "                st.error(\"‚ùå Le bilan n'est pas √©quilibr√© !\")\n",
    "            \n",
    "            # Explication p√©dagogique\n",
    "            with st.expander(\"üí° Comprendre le reclassement\"):\n",
    "                st.markdown(\"\"\"\n",
    "                **Pourquoi reclasser le bilan ?**\n",
    "                \n",
    "                Le bilan comptable suit des r√®gles pr√©cises, mais le bilan financier offre une vision plus op√©rationnelle:\n",
    "                \n",
    "                - **Actif immobilis√©**: Investissements durables\n",
    "                - **Actif circulant**: Cycle d'exploitation (stocks, cr√©ances)\n",
    "                - **Tr√©sorerie active**: Liquidit√©s disponibles\n",
    "                \n",
    "                Cette vision facilite l'analyse de l'√©quilibre financier.\n",
    "                \"\"\")\n",
    "\n",
    "    with tab3:\n",
    "        st.subheader(\"üìà Structure du Compte de R√©sultat\")\n",
    "        \n",
    "        col1, col2 = st.columns(2)\n",
    "        \n",
    "        with col1:\n",
    "            st.markdown(\"#### Produits\")\n",
    "            ca = st.number_input(\"Chiffre d'affaires\", value=1000000)\n",
    "            prod_stockee = st.number_input(\"Production stock√©e\", value=50000)\n",
    "            subv_exploitation = st.number_input(\"Subventions d'exploitation\", value=20000)\n",
    "            produits_financiers = st.number_input(\"Produits financiers\", value=30000)\n",
    "            produits_exceptionnels = st.number_input(\"Produits exceptionnels\", value=15000)\n",
    "        \n",
    "        with col2:\n",
    "            st.markdown(\"#### Charges\")\n",
    "            achats_consommes = st.number_input(\"Achats consomm√©s\", value=600000)\n",
    "            services_externes = st.number_input(\"Services externes\", value=120000)\n",
    "            charges_personnel = st.number_input(\"Charges de personnel\", value=180000)\n",
    "            dotations_amortissement = st.number_input(\"Dotations aux amortissements\", value=80000)\n",
    "            charges_financieres = st.number_input(\"Charges financi√®res\", value=25000)\n",
    "            charges_exceptionnelles = st.number_input(\"Charges exceptionnelles\", value=10000)\n",
    "            impot_benefices = st.number_input(\"Imp√¥t sur les b√©n√©fices\", value=35000)\n",
    "        \n",
    "        # Calcul des r√©sultats interm√©diaires\n",
    "        marge_commerciale = ca - achats_consommes\n",
    "        valeur_ajoutee = marge_commerciale - services_externes\n",
    "        ebe = valeur_ajoutee - charges_personnel\n",
    "        resultat_exploitation = ebe - dotations_amortissement\n",
    "        resultat_courant = resultat_exploitation + produits_financiers - charges_financieres\n",
    "        resultat_exceptionnel = produits_exceptionnels - charges_exceptionnelles\n",
    "        resultat_net = resultat_courant + resultat_exceptionnel - impot_benefices\n",
    "        \n",
    "        # Affichage des soldes\n",
    "        st.markdown(\"#### üìä Soldes Interm√©diaires de Gestion\")\n",
    "        \n",
    "        soldes_data = {\n",
    "            \"Marge commerciale\": marge_commerciale,\n",
    "            \"Valeur ajout√©e\": valeur_ajoutee,\n",
    "            \"Exc√©dent Brut d'Exploitation (EBE)\": ebe,\n",
    "            \"R√©sultat d'exploitation\": resultat_exploitation,\n",
    "            \"R√©sultat courant\": resultat_courant,\n",
    "            \"R√©sultat exceptionnel\": resultat_exceptionnel,\n",
    "            \"R√©sultat net\": resultat_net\n",
    "        }\n",
    "        \n",
    "        for solde, valeur in soldes_data.items():\n",
    "            col_s1, col_s2 = st.columns([2, 1])\n",
    "            with col_s1:\n",
    "                st.write(f\"**{solde}**\")\n",
    "            with col_s2:\n",
    "                st.write(f\"{valeur:,.0f} ‚Ç¨\")\n",
    "        \n",
    "        # Graphique des soldes\n",
    "        fig_soldes = go.Figure()\n",
    "        fig_soldes.add_trace(go.Bar(\n",
    "            x=list(soldes_data.keys()),\n",
    "            y=list(soldes_data.values()),\n",
    "            marker_color=['blue', 'green', 'orange', 'red', 'purple', 'brown', 'black']\n",
    "        ))\n",
    "        fig_soldes.update_layout(\n",
    "            title=\"√âvolution des Soldes Interm√©diaires de Gestion\",\n",
    "            xaxis_tickangle=-45,\n",
    "            height=400\n",
    "        )\n",
    "        st.plotly_chart(fig_soldes, use_container_width=True)\n",
    "\n",
    "    with tab4:\n",
    "        st.subheader(\"üßÆ Calculateur de Soldes Interm√©diaires de Gestion\")\n",
    "        \n",
    "        st.markdown(\"\"\"\n",
    "        Les Soldes Interm√©diaires de Gestion (SIG) permettent d'analyser la formation du r√©sultat \n",
    "        et d'identifier les sources de performance ou de difficult√©s.\n",
    "        \"\"\")\n",
    "        \n",
    "        # Calculateur interactif\n",
    "        col_calc1, col_calc2 = st.columns(2)\n",
    "        \n",
    "        with col_calc1:\n",
    "            st.markdown(\"**Donn√©es d'entr√©e**\")\n",
    "            ca_input = st.number_input(\"Chiffre d'affaires HT\", value=500000, key=\"ca_sig\")\n",
    "            achats_consommes_input = st.number_input(\"Achats consomm√©s\", value=300000, key=\"achats_sig\")\n",
    "            variation_stocks = st.number_input(\"Variation des stocks\", value=10000, key=\"var_stocks\")\n",
    "            production_immobilisee = st.number_input(\"Production immobilis√©e\", value=20000, key=\"prod_immob\")\n",
    "            subventions_exploitation = st.number_input(\"Subventions d'exploitation\", value=5000, key=\"subv_expl\")\n",
    "        \n",
    "        with col_calc2:\n",
    "            st.markdown(\"**Charges**\")\n",
    "            consommations_externes = st.number_input(\"Consommations externes\", value=80000, key=\"cons_ext\")\n",
    "            impots_taxes = st.number_input(\"Imp√¥ts et taxes\", value=15000, key=\"impots\")\n",
    "            charges_personnel_input = st.number_input(\"Charges de personnel\", value=120000, key=\"charges_pers\")\n",
    "            dotations_input = st.number_input(\"Dotations aux amortissements\", value=40000, key=\"dotations\")\n",
    "        \n",
    "        # Calcul automatique des SIG\n",
    "        marge_commerciale_calc = ca_input - achats_consommes_input + variation_stocks\n",
    "        production_periode = ca_input + production_immobilisee\n",
    "        valeur_ajoutee_calc = marge_commerciale_calc + production_periode - consommations_externes\n",
    "        ebe_calc = valeur_ajoutee_calc - impots_taxes - charges_personnel_input + subventions_exploitation\n",
    "        resultat_exploitation_calc = ebe_calc - dotations_input\n",
    "        \n",
    "        # Affichage des r√©sultats\n",
    "        st.markdown(\"### üìà R√©sultats des SIG\")\n",
    "        \n",
    "        sig_data = {\n",
    "            \"Marge commerciale\": marge_commerciale_calc,\n",
    "            \"Production de l'exercice\": production_periode,\n",
    "            \"Valeur ajout√©e\": valeur_ajoutee_calc,\n",
    "            \"Exc√©dent Brut d'Exploitation (EBE)\": ebe_calc,\n",
    "            \"R√©sultat d'exploitation\": resultat_exploitation_calc\n",
    "        }\n",
    "        \n",
    "        for sig, valeur in sig_data.items():\n",
    "            percentage = (valeur / ca_input) * 100 if ca_input > 0 else 0\n",
    "            st.metric(sig, f\"{valeur:,.0f} ‚Ç¨\", f\"{percentage:.1f}% du CA\")\n",
    "        \n",
    "        # Interpr√©tation automatique\n",
    "        st.markdown(\"### üí° Interpr√©tation\")\n",
    "        \n",
    "        if valeur_ajoutee_calc / ca_input > 0.4:\n",
    "            st.success(\"**‚úÖ Excellente valeur ajout√©e**: L'entreprise transforme efficacement ses achats en valeur\")\n",
    "        elif valeur_ajoutee_calc / ca_input > 0.2:\n",
    "            st.info(\"**üìä Valeur ajout√©e correcte**: Niveau standard pour ce type d'activit√©\")\n",
    "        else:\n",
    "            st.warning(\"**‚ö†Ô∏è Valeur ajout√©e faible**: L'entreprise pourrait am√©liorer sa marge de transformation\")\n",
    "        \n",
    "        if ebe_calc / ca_input > 0.1:\n",
    "            st.success(\"**üí∞ Bon EBE**: L'entreprise d√©gage une marge d'exploitation saine\")\n",
    "        else:\n",
    "            st.warning(\"**üìâ EBE faible**: Risque sur la rentabilit√© op√©rationnelle\")\n",
    "\n",
    "# Section Performance et Rentabilit√©\n",
    "elif section == \"üí∞ Performance\":\n",
    "    st.header(\"üí∞ Diagnostic de la Performance et de la Rentabilit√©\")\n",
    "    \n",
    "    if not st.session_state.progression['ratios']:\n",
    "        if st.button(\"‚úÖ Marquer ce module comme compl√©t√©\"):\n",
    "            st.session_state.progression['ratios'] = True\n",
    "            st.session_state.notifications.append({\n",
    "                \"type\": \"success\", \n",
    "                \"message\": \"üéâ Module Performance compl√©t√© !\", \n",
    "                \"date\": datetime.now().strftime(\"%Y-%m-%d\")\n",
    "            })\n",
    "            st.rerun()\n",
    "    \n",
    "    tab1, tab2, tab3 = st.tabs([\"üìà Cr√©ation de Valeur (EVA)\", \"‚öñÔ∏è Levier Financier\", \"üéØ Seuil de Rentabilit√©\"])\n",
    "    \n",
    "    with tab1:\n",
    "        st.subheader(\"üìà Simulateur de Cr√©ation de Valeur (EVA)\")\n",
    "        \n",
    "        st.markdown(\"\"\"\n",
    "        L'**Economic Value Added (EVA)** mesure la cr√©ation de valeur √©conomique r√©elle apr√®s r√©mun√©ration \n",
    "        de tous les apporteurs de capitaux, y compris les actionnaires.\n",
    "        \"\"\")\n",
    "        \n",
    "        col1, col2 = st.columns(2)\n",
    "        \n",
    "        with col1:\n",
    "            st.markdown(\"### üì• Donn√©es d'entr√©e\")\n",
    "            resultat_exploitation = st.slider(\"R√©sultat d'exploitation (k‚Ç¨)\", 100, 5000, 1000, step=50)\n",
    "            capital_investi = st.slider(\"Capital √©conomique investi (k‚Ç¨)\", 500, 20000, 5000, step=100)\n",
    "            taux_imposition = st.slider(\"Taux d'imposition (%)\", 15.0, 35.0, 25.0, step=0.5)\n",
    "            cout_capital = st.slider(\"Co√ªt du capital (%)\", 5.0, 15.0, 8.0, step=0.5)\n",
    "        \n",
    "        with col2:\n",
    "            st.markdown(\"### üìä R√©sultats\")\n",
    "            \n",
    "            # Calculs EVA\n",
    "            resultat_apres_impot = resultat_exploitation * (1 - taux_imposition/100)\n",
    "            roic = (resultat_apres_impot / capital_investi) * 100\n",
    "            eva = resultat_apres_impot - (capital_investi * cout_capital/100)\n",
    "            \n",
    "            # Affichage des r√©sultats\n",
    "            st.metric(\"Rentabilit√© (ROIC)\", f\"{roic:.1f}%\")\n",
    "            st.metric(\"Co√ªt du Capital\", f\"{cout_capital:.1f}%\")\n",
    "            st.metric(\"Economic Value Added (EVA)\", f\"{eva:,.0f} k‚Ç¨\")\n",
    "            \n",
    "            # Indicateur visuel\n",
    "            if eva > 0:\n",
    "                st.success(\"üéâ L'entreprise cr√©e de la valeur !\")\n",
    "                st.balloons()\n",
    "            else:\n",
    "                st.error(\"‚ö†Ô∏è L'entreprise d√©truit de la valeur\")\n",
    "            \n",
    "            # Graphique de cr√©ation de valeur\n",
    "            fig_eva = go.Figure()\n",
    "            fig_eva.add_trace(go.Indicator(\n",
    "                mode = \"number+delta\",\n",
    "                value = eva,\n",
    "                delta = {'reference': 0, 'relative': False},\n",
    "                title = {\"text\": \"EVA (k‚Ç¨)\"},\n",
    "                domain = {'x': [0, 1], 'y': [0, 1]}\n",
    "            ))\n",
    "            fig_eva.update_layout(height=200)\n",
    "            st.plotly_chart(fig_eva, use_container_width=True)\n",
    "        \n",
    "        # Explication p√©dagogique\n",
    "        with st.expander(\"üß† Comprendre l'EVA\"):\n",
    "            st.markdown(\"\"\"\n",
    "            **Formule de l'EVA:**\n",
    "            ```\n",
    "            EVA = R√©sultat d'exploitation apr√®s imp√¥ts - (Capital investi √ó Co√ªt du capital)\n",
    "            ```\n",
    "            \n",
    "            **Interpr√©tation:**\n",
    "            - **EVA > 0**: L'entreprise cr√©e de la valeur √©conomique\n",
    "            - **EVA < 0**: L'entreprise d√©truit de la valeur\n",
    "            - **EVA = 0**: L'entreprise r√©mun√®re juste le co√ªt du capital\n",
    "            \n",
    "            L'EVA est un indicateur plus exigeant que le simple b√©n√©fice comptable.\n",
    "            \"\"\")\n",
    "    \n",
    "    with tab2:\n",
    "        st.subheader(\"‚öñÔ∏è Calculateur de Levier Financier\")\n",
    "        \n",
    "        st.markdown(\"\"\"\n",
    "        Le **levier financier** mesure l'impact de l'endettement sur la rentabilit√© des capitaux propres.\n",
    "        Il peut amplifier les gains... mais aussi les pertes !\n",
    "        \"\"\")\n",
    "        \n",
    "        col1, col2 = st.columns(2)\n",
    "        \n",
    "        with col1:\n",
    "            st.markdown(\"### üì• Donn√©es financi√®res\")\n",
    "            resultat_expl = st.number_input(\"R√©sultat d'exploitation (k‚Ç¨)\", value=800, key=\"res_expl_levier\")\n",
    "            charges_financieres = st.number_input(\"Charges financi√®res (k‚Ç¨)\", value=100, key=\"charges_fin_levier\")\n",
    "            capitaux_propres = st.number_input(\"Capitaux propres (k‚Ç¨)\", value=2000, key=\"cap_propres_levier\")\n",
    "            dette_financiere = st.number_input(\"Dettes financi√®res (k‚Ç¨)\", value=1000, key=\"dette_fin_levier\")\n",
    "            taux_imposition_levier = st.slider(\"Taux d'imposition (%)\", 15.0, 35.0, 25.0, key=\"taux_imp_levier\")\n",
    "        \n",
    "        with col2:\n",
    "            st.markdown(\"### üìä Impact du levier\")\n",
    "            \n",
    "            # Calculs\n",
    "            resultat_courant = resultat_expl - charges_financieres\n",
    "            resultat_net = resultat_courant * (1 - taux_imposition_levier/100)\n",
    "            roe_avec_dette = (resultat_net / capitaux_propres) * 100\n",
    "            \n",
    "            # Sans dette (pour comparaison)\n",
    "            resultat_net_sans_dette = resultat_expl * (1 - taux_imposition_levier/100)\n",
    "            roe_sans_dette = (resultat_net_sans_dette / (capitaux_propres + dette_financiere)) * 100\n",
    "            \n",
    "            # Effet de levier\n",
    "            effet_levier = roe_avec_dette - roe_sans_dette\n",
    "            \n",
    "            st.metric(\"ROE avec endettement\", f\"{roe_avec_dette:.1f}%\")\n",
    "            st.metric(\"ROE sans endettement\", f\"{roe_sans_dette:.1f}%\")\n",
    "            st.metric(\"Effet de levier\", f\"{effet_levier:+.1f} points\")\n",
    "            \n",
    "            if effet_levier > 0:\n",
    "                st.success(\"‚úÖ Le levier financier est positif\")\n",
    "            else:\n",
    "                st.warning(\"üìâ Le levier financier est n√©gatif\")\n",
    "            \n",
    "            # Graphique comparatif\n",
    "            fig_levier = go.Figure()\n",
    "            fig_levier.add_trace(go.Bar(\n",
    "                name='Avec endettement',\n",
    "                x=['ROE'],\n",
    "                y=[roe_avec_dette],\n",
    "                marker_color='blue'\n",
    "            ))\n",
    "            fig_levier.add_trace(go.Bar(\n",
    "                name='Sans endettement',\n",
    "                x=['ROE'],\n",
    "                y=[roe_sans_dette],\n",
    "                marker_color='lightblue'\n",
    "            ))\n",
    "            fig_levier.update_layout(\n",
    "                title=\"Impact de l'endettement sur la rentabilit√©\",\n",
    "                barmode='group',\n",
    "                height=300\n",
    "            )\n",
    "            st.plotly_chart(fig_levier, use_container_width=True)\n",
    "        \n",
    "        # Analyse de sensibilit√©\n",
    "        st.markdown(\"### üéöÔ∏è Analyse de Sensibilit√©\")\n",
    "        \n",
    "        taux_interet = st.slider(\"Taux d'int√©r√™t sur la dette (%)\", 1.0, 10.0, 5.0)\n",
    "        \n",
    "        # Calcul du point d'√©quilibre\n",
    "        roe_minimal = roe_sans_dette\n",
    "        resultat_expl_minimal = (roe_minimal / 100) * (capitaux_propres + dette_financiere) / (1 - taux_imposition_levier/100)\n",
    "        \n",
    "        st.metric(\"R√©sultat d'exploitation minimum requis\", f\"{resultat_expl_minimal:,.0f} k‚Ç¨\")\n",
    "        \n",
    "        if resultat_expl > resultat_expl_minimal:\n",
    "            st.success(\"‚úÖ Niveau de r√©sultat suffisant pour un levier positif\")\n",
    "        else:\n",
    "            st.warning(\"‚ö†Ô∏è R√©sultat d'exploitation insuffisant pour justifier l'endettement\")\n",
    "    \n",
    "    with tab3:\n",
    "        st.subheader(\"üéØ Calculateur de Seuil de Rentabilit√©\")\n",
    "        \n",
    "        st.markdown(\"\"\"\n",
    "        Le **seuil de rentabilit√©** (ou point mort) est le niveau d'activit√© √† partir duquel l'entreprise \n",
    "        commence √† r√©aliser des b√©n√©fices. Il se calcule en distinguant les co√ªts fixes et variables.\n",
    "        \"\"\")\n",
    "        \n",
    "        col1, col2 = st.columns(2)\n",
    "        \n",
    "        with col1:\n",
    "            st.markdown(\"### üì• Donn√©es de co√ªts\")\n",
    "            couts_fixes = st.number_input(\"Co√ªts fixes annuels (k‚Ç¨)\", value=300)\n",
    "            cout_variable_unitaire = st.number_input(\"Co√ªt variable unitaire (‚Ç¨)\", value=40)\n",
    "            prix_vente_unitaire = st.number_input(\"Prix de vente unitaire (‚Ç¨)\", value=100)\n",
    "            capacite_production = st.number_input(\"Capacit√© de production (unit√©s)\", value=10000)\n",
    "        \n",
    "        with col2:\n",
    "            st.markdown(\"### üìä R√©sultats\")\n",
    "            \n",
    "            # Calculs\n",
    "            marge_unitaire = prix_vente_unitaire - cout_variable_unitaire\n",
    "            taux_marge = (marge_unitaire / prix_vente_unitaire) * 100\n",
    "            seuil_volume = couts_fixes * 1000 / marge_unitaire if marge_unitaire > 0 else 0\n",
    "            seuil_ca = seuil_volume * prix_vente_unitaire / 1000  # en k‚Ç¨\n",
    "            marge_securite = ((capacite_production - seuil_volume) / capacite_production) * 100\n",
    "            \n",
    "            st.metric(\"Seuil de rentabilit√© (volume)\", f\"{seuil_volume:,.0f} unit√©s\")\n",
    "            st.metric(\"Seuil de rentabilit√© (CA)\", f\"{seuil_ca:,.1f} k‚Ç¨\")\n",
    "            st.metric(\"Taux de marge\", f\"{taux_marge:.1f}%\")\n",
    "            st.metric(\"Marge de s√©curit√©\", f\"{marge_securite:.1f}%\")\n",
    "            \n",
    "            if marge_securite > 20:\n",
    "                st.success(\"‚úÖ Bonne marge de s√©curit√©\")\n",
    "            elif marge_securite > 10:\n",
    "                st.warning(\"‚ö†Ô∏è Marge de s√©curit√© mod√©r√©e\")\n",
    "            else:\n",
    "                st.error(\"‚ùå Marge de s√©curit√© faible\")\n",
    "        \n",
    "        # Graphique du seuil de rentabilit√©\n",
    "        volumes = np.linspace(0, capacite_production * 1.2, 100)\n",
    "        couts_totaux = couts_fixes * 1000 + cout_variable_unitaire * volumes\n",
    "        chiffre_affaires = prix_vente_unitaire * volumes\n",
    "        \n",
    "        fig_seuil = go.Figure()\n",
    "        \n",
    "        fig_seuil.add_trace(go.Scatter(\n",
    "            x=volumes, y=couts_totaux,\n",
    "            mode='lines',\n",
    "            name='Co√ªts totaux',\n",
    "            line=dict(color='red', width=3)\n",
    "        ))\n",
    "        \n",
    "        fig_seuil.add_trace(go.Scatter(\n",
    "            x=volumes, y=chiffre_affaires,\n",
    "            mode='lines',\n",
    "            name='Chiffre d\\'affaires',\n",
    "            line=dict(color='green', width=3)\n",
    "        ))\n",
    "        \n",
    "        # Point de seuil\n",
    "        fig_seuil.add_trace(go.Scatter(\n",
    "            x=[seuil_volume], y=[seuil_ca * 1000],\n",
    "            mode='markers',\n",
    "            name='Seuil de rentabilit√©',\n",
    "            marker=dict(color='black', size=10, symbol='x')\n",
    "        ))\n",
    "        \n",
    "        fig_seuil.update_layout(\n",
    "            title=\"Graphique du Seuil de Rentabilit√©\",\n",
    "            xaxis_title=\"Volume (unit√©s)\",\n",
    "            yaxis_title=\"Montant (‚Ç¨)\",\n",
    "            showlegend=True,\n",
    "            height=400\n",
    "        )\n",
    "        \n",
    "        st.plotly_chart(fig_seuil, use_container_width=True)\n",
    "        \n",
    "        # Analyse de sensibilit√©\n",
    "        st.markdown(\"### üéöÔ∏è Analyse de Sensibilit√©\")\n",
    "        \n",
    "        col_sens1, col_sens2 = st.columns(2)\n",
    "        \n",
    "        with col_sens1:\n",
    "            variation_prix = st.slider(\"Variation du prix de vente (%)\", -20, 20, 0)\n",
    "            nouveau_prix = prix_vente_unitaire * (1 + variation_prix/100)\n",
    "            nouvelle_marge = nouveau_prix - cout_variable_unitaire\n",
    "            nouveau_seuil = couts_fixes * 1000 / nouvelle_marge if nouvelle_marge > 0 else 0\n",
    "            \n",
    "            st.metric(f\"Seuil avec prix {variation_prix:+}%\", f\"{nouveau_seuil:,.0f} unit√©s\")\n",
    "        \n",
    "        with col_sens2:\n",
    "            variation_couts_fixes = st.slider(\"Variation des co√ªts fixes (%)\", -20, 20, 0)\n",
    "            nouveaux_couts_fixes = couts_fixes * (1 + variation_couts_fixes/100)\n",
    "            nouveau_seuil_cf = nouveaux_couts_fixes * 1000 / marge_unitaire if marge_unitaire > 0 else 0\n",
    "            \n",
    "            st.metric(f\"Seuil avec CF {variation_couts_fixes:+}%\", f\"{nouveau_seuil_cf:,.0f} unit√©s\")\n",
    "\n",
    "# Section √âquilibre Financier\n",
    "elif section == \"‚öñÔ∏è √âquilibre Financier\":\n",
    "    st.header(\"‚öñÔ∏è L'√âquilibre Financier et la Tr√©sorerie\")\n",
    "    \n",
    "    if not st.session_state.progression['equilibre']:\n",
    "        if st.button(\"‚úÖ Marquer ce module comme compl√©t√©\"):\n",
    "            st.session_state.progression['equilibre'] = True\n",
    "            st.session_state.notifications.append({\n",
    "                \"type\": \"success\", \n",
    "                \"message\": \"üéâ Module √âquilibre Financier compl√©t√© !\", \n",
    "                \"date\": datetime.now().strftime(\"%Y-%m-%d\")\n",
    "            })\n",
    "            st.rerun()\n",
    "    \n",
    "    st.subheader(\"üßä Simulateur FR-BFR-TN\")\n",
    "    \n",
    "    col1, col2, col3 = st.columns(3)\n",
    "    \n",
    "    with col1:\n",
    "        st.markdown(\"### üì• Donn√©es d'entr√©e\")\n",
    "        capitaux_permanents = st.number_input(\"Capitaux permanents (k‚Ç¨)\", value=800, key=\"cap_permanents\")\n",
    "        actif_immobilise = st.number_input(\"Actif immobilis√© (k‚Ç¨)\", value=500, key=\"act_immobilise\")\n",
    "        stocks = st.number_input(\"Stocks (k‚Ç¨)\", value=150, key=\"stocks_equilibre\")\n",
    "        clients = st.number_input(\"Cr√©ances clients (k‚Ç¨)\", value=200, key=\"clients_equilibre\")\n",
    "        fournisseurs = st.number_input(\"Dettes fournisseurs (k‚Ç¨)\", value=120, key=\"fournisseurs_equilibre\")\n",
    "        disponibilites = st.number_input(\"Disponibilit√©s (k‚Ç¨)\", value=80, key=\"dispo_equilibre\")\n",
    "        concours_bancaires = st.number_input(\"Concours bancaires (k‚Ç¨)\", value=50, key=\"concours_equilibre\")\n",
    "    \n",
    "    with col2:\n",
    "        st.markdown(\"### üìä Calculs\")\n",
    "        # Calcul des indicateurs\n",
    "        fr = capitaux_permanents - actif_immobilise\n",
    "        bfr = (stocks + clients) - fournisseurs\n",
    "        tn = fr - bfr\n",
    "        \n",
    "        st.metric(\"Fonds de Roulement (FR)\", f\"{fr:,.0f} k‚Ç¨\")\n",
    "        st.metric(\"Besoin en Fonds de Roulement (BFR)\", f\"{bfr:,.0f} k‚Ç¨\")\n",
    "        st.metric(\"Tr√©sorerie Nette (TN)\", f\"{tn:,.0f} k‚Ç¨\")\n",
    "        \n",
    "        # Calcul de la tr√©sorerie r√©elle\n",
    "        tresorerie_reelle = disponibilites - concours_bancaires\n",
    "        st.metric(\"Tr√©sorerie r√©elle\", f\"{tresorerie_reelle:,.0f} k‚Ç¨\")\n",
    "    \n",
    "    with col3:\n",
    "        st.markdown(\"### ü©∫ Diagnostic\")\n",
    "        if tn > 0:\n",
    "            st.success(\"\"\"\n",
    "            ‚úÖ **Situation saine**\n",
    "            - Tr√©sorerie exc√©dentaire\n",
    "            - L'entreprise finance son BFR et d√©gage un exc√©dent\n",
    "            - Bonne capacit√© d'autofinancement\n",
    "            \"\"\")\n",
    "        elif tn == 0:\n",
    "            st.info(\"\"\"\n",
    "            ‚öñÔ∏è **Situation √©quilibr√©e**\n",
    "            - Le FR finance exactement le BFR\n",
    "            - Tr√©sorerie nulle\n",
    "            - Situation stable mais peu de marge de man≈ìuvre\n",
    "            \"\"\")\n",
    "        else:\n",
    "            st.error(\"\"\"\n",
    "            ‚ùå **Situation tendue**\n",
    "            - Le FR ne couvre pas le BFR\n",
    "            - Tr√©sorerie n√©gative ‚Üí recours au d√©couvert\n",
    "            - Risque de difficult√©s de tr√©sorerie\n",
    "            \"\"\")\n",
    "        \n",
    "        # V√©rification coh√©rence\n",
    "        if abs(tn - tresorerie_reelle) > 1:\n",
    "            st.warning(\"‚ö†Ô∏è √âcart entre TN th√©orique et tr√©sorerie r√©elle\")\n",
    "    \n",
    "    # Graphique de l'√©quilibre financier\n",
    "    fig = go.Figure()\n",
    "    \n",
    "    fig.add_trace(go.Bar(\n",
    "        name='FR',\n",
    "        y=['Fonds de Roulement'],\n",
    "        x=[fr],\n",
    "        orientation='h',\n",
    "        marker_color='green'\n",
    "    ))\n",
    "    \n",
    "    fig.add_trace(go.Bar(\n",
    "        name='BFR',\n",
    "        y=['Besoin FR'],\n",
    "        x=[bfr],\n",
    "        orientation='h',\n",
    "        marker_color='orange'\n",
    "    ))\n",
    "    \n",
    "    fig.add_trace(go.Bar(\n",
    "        name='TN',\n",
    "        y=['Tr√©sorerie Nette'],\n",
    "        x=[tn],\n",
    "        orientation='h',\n",
    "        marker_color='blue'\n",
    "    ))\n",
    "    \n",
    "    fig.update_layout(\n",
    "        title=\"Repr√©sentation de l'√âquilibre Financier\",\n",
    "        barmode='overlay',\n",
    "        height=300,\n",
    "        showlegend=True\n",
    "    )\n",
    "    \n",
    "    st.plotly_chart(fig, use_container_width=True)\n",
    "    \n",
    "    # Analyse des d√©lais\n",
    "    st.subheader(\"‚è±Ô∏è Analyse des D√©lais d'Exploitation\")\n",
    "    \n",
    "    col_del1, col_del2, col_del3 = st.columns(3)\n",
    "    \n",
    "    with col_del1:\n",
    "        ca_annuel = st.number_input(\"CA annuel (k‚Ç¨)\", value=1200, key=\"ca_delais\")\n",
    "        delai_clients = st.slider(\"D√©lai clients (jours)\", 0, 120, 60)\n",
    "    \n",
    "    with col_del2:\n",
    "        delai_stocks = st.slider(\"D√©lai stocks (jours)\", 0, 90, 45)\n",
    "    \n",
    "    with col_del3:\n",
    "        delai_fournisseurs = st.slider(\"D√©lai fournisseurs (jours)\", 0, 90, 30)\n",
    "    \n",
    "    # Calcul du cycle de tr√©sorerie\n",
    "    cycle_exploitation = delai_stocks + delai_clients\n",
    "    cycle_financement = delai_fournisseurs\n",
    "    cycle_tresorerie = cycle_exploitation - cycle_financement\n",
    "    \n",
    "    st.metric(\"Cycle d'exploitation\", f\"{cycle_exploitation} jours\")\n",
    "    st.metric(\"Cycle de financement\", f\"{cycle_financement} jours\")\n",
    "    st.metric(\"Cycle de tr√©sorerie\", f\"{cycle_tresorerie} jours\")\n",
    "    \n",
    "    if cycle_tresorerie > 0:\n",
    "        st.info(\"üîÅ Cycle de tr√©sorerie positif : besoin de financement du cycle d'exploitation\")\n",
    "    else:\n",
    "        st.success(\"üí∞ Cycle de tr√©sorerie n√©gatif : l'exploitation g√©n√®re de la tr√©sorerie\")\n",
    "    \n",
    "    # Recommandations d'optimisation\n",
    "    st.subheader(\"üí° Recommandations d'Optimisation\")\n",
    "    \n",
    "    if delai_clients > 60:\n",
    "        st.warning(\"**‚è≥ D√©lai clients trop long**: Envisagez un relancement client ou un affacturage\")\n",
    "    \n",
    "    if delai_stocks > 60:\n",
    "        st.warning(\"**üì¶ Stocks √©lev√©s**: Optimisez la gestion des stocks et la rotation\")\n",
    "    \n",
    "    if delai_fournisseurs < 30:\n",
    "        st.info(\"**üí≥ D√©lai fournisseurs court**: N√©gociez de meilleurs d√©lais de paiement\")\n",
    "\n",
    "# Section Analyse par Ratios\n",
    "elif section == \"üìä Analyse par Ratios\":\n",
    "    st.header(\"üìä Analyse Financi√®re par les Ratios\")\n",
    "    \n",
    "    tab1, tab2, tab3, tab4 = st.tabs([\"üí∞ Rentabilit√©\", \"‚öñÔ∏è Structure\", \"üìà Activit√©\", \"üßÆ Liquidit√©\"])\n",
    "    \n",
    "    with tab1:\n",
    "        st.subheader(\"Ratios de Rentabilit√©\")\n",
    "        \n",
    "        col1, col2 = st.columns(2)\n",
    "        \n",
    "        with col1:\n",
    "            ca = st.number_input(\"Chiffre d'affaires (k‚Ç¨)\", value=2000, key=\"ca_ratios\")\n",
    "            resultat_net = st.number_input(\"R√©sultat net (k‚Ç¨)\", value=150, key=\"res_net_ratios\")\n",
    "            resultat_exploitation = st.number_input(\"R√©sultat d'exploitation (k‚Ç¨)\", value=200, key=\"res_expl_ratios\")\n",
    "            capitaux_propres = st.number_input(\"Capitaux propres (k‚Ç¨)\", value=1000, key=\"cap_propres_ratios\")\n",
    "            actif_total = st.number_input(\"Actif total (k‚Ç¨)\", value=2000, key=\"actif_total_ratios\")\n",
    "        \n",
    "        with col2:\n",
    "            # Calcul des ratios\n",
    "            roe = (resultat_net / capitaux_propres) * 100\n",
    "            roa = (resultat_net / actif_total) * 100\n",
    "            ros = (resultat_net / ca) * 100\n",
    "            marge_ebit = (resultat_exploitation / ca) * 100\n",
    "            \n",
    "            st.metric(\"ROE (Return on Equity)\", f\"{roe:.1f}%\")\n",
    "            st.metric(\"ROA (Return on Assets)\", f\"{roa:.1f}%\")\n",
    "            st.metric(\"ROS (Return on Sales)\", f\"{ros:.1f}%\")\n",
    "            st.metric(\"Marge d'exploitation (EBIT)\", f\"{marge_ebit:.1f}%\")\n",
    "            \n",
    "            # Benchmarking\n",
    "            st.markdown(\"#### üìä R√©f√©rentiels\")\n",
    "            st.write(\"**ROE souhaitable**: > 8-10%\")\n",
    "            st.write(\"**ROA typique**: 3-8%\")\n",
    "            st.write(\"**ROS variable**: selon le secteur\")\n",
    "            \n",
    "            # Diagnostic\n",
    "            if roe > 15:\n",
    "                st.success(\"‚úÖ Excellente rentabilit√© des capitaux propres\")\n",
    "            elif roe > 8:\n",
    "                st.info(\"üìä Rentabilit√© correcte\")\n",
    "            else:\n",
    "                st.warning(\"‚ö†Ô∏è Rentabilit√© √† am√©liorer\")\n",
    "    \n",
    "    with tab2:\n",
    "        st.subheader(\"Ratios de Structure Financi√®re\")\n",
    "        \n",
    "        col1, col2 = st.columns(2)\n",
    "        \n",
    "        with col1:\n",
    "            dette_financiere = st.number_input(\"Dettes financi√®res (k‚Ç¨)\", value=800, key=\"dette_fin_struct\")\n",
    "            capitaux_propres_struct = st.number_input(\"Capitaux propres (k‚Ç¨)\", value=1000, key=\"cap_propres_struct\")\n",
    "            actif_immobilise = st.number_input(\"Actif immobilis√© (k‚Ç¨)\", value=1200, key=\"act_immobilise_struct\")\n",
    "            capitaux_permanents = st.number_input(\"Capitaux permanents (k‚Ç¨)\", value=1800, key=\"cap_permanents_struct\")\n",
    "        \n",
    "        with col2:\n",
    "            # Calcul des ratios\n",
    "            leverage = dette_financiere / capitaux_propres_struct\n",
    "            autonomie_financiere = capitaux_propres_struct / (dette_financiere + capitaux_propres_struct) * 100\n",
    "            couverture_immobilisation = capitaux_permanents / actif_immobilise\n",
    "            \n",
    "            st.metric(\"Ratio d'endettement\", f\"{leverage:.2f}\")\n",
    "            st.metric(\"Autonomie financi√®re\", f\"{autonomie_financiere:.1f}%\")\n",
    "            st.metric(\"Couverture des immobilisations\", f\"{couverture_immobilisation:.2f}\")\n",
    "            \n",
    "            # Interpr√©tation\n",
    "            if leverage < 1:\n",
    "                st.success(\"‚úÖ Structure financi√®re saine\")\n",
    "            elif leverage < 2:\n",
    "                st.warning(\"‚ö†Ô∏è Endettement mod√©r√©\")\n",
    "            else:\n",
    "                st.error(\"‚ùå Endettement √©lev√©\")\n",
    "                \n",
    "            if autonomie_financiere > 33:\n",
    "                st.success(\"‚úÖ Bonne autonomie financi√®re\")\n",
    "            else:\n",
    "                st.warning(\"‚ö†Ô∏è Autonomie financi√®re faible\")\n",
    "    \n",
    "    with tab3:\n",
    "        st.subheader(\"Ratios d'Activit√© et d'Efficacit√©\")\n",
    "        \n",
    "        col1, col2 = st.columns(2)\n",
    "        \n",
    "        with col1:\n",
    "            ca_activite = st.number_input(\"CA annuel (k‚Ç¨)\", value=2000, key=\"ca_activite\")\n",
    "            clients_moyens = st.number_input(\"Cr√©ances clients moyennes (k‚Ç¨)\", value=300, key=\"clients_moyens\")\n",
    "            stocks_moyens = st.number_input(\"Stocks moyens (k‚Ç¨)\", value=200, key=\"stocks_moyens\")\n",
    "            fournisseurs_moyens = st.number_input(\"Dettes fournisseurs moyennes (k‚Ç¨)\", value=150, key=\"fournisseurs_moyens\")\n",
    "        \n",
    "        with col2:\n",
    "            # Calcul des ratios\n",
    "            dso = (clients_moyens / ca_activite) * 365  # Days Sales Outstanding\n",
    "            dio = (stocks_moyens / ca_activite) * 365   # Days Inventory Outstanding\n",
    "            dpo = (fournisseurs_moyens / ca_activite) * 365  # Days Payable Outstanding\n",
    "            ccc = dso + dio - dpo  # Cash Conversion Cycle\n",
    "            \n",
    "            st.metric(\"D√©lai clients (jours)\", f\"{dso:.0f} j\")\n",
    "            st.metric(\"D√©lai stocks (jours)\", f\"{dio:.0f} j\")\n",
    "            st.metric(\"D√©lai fournisseurs (jours)\", f\"{dpo:.0f} j\")\n",
    "            st.metric(\"Cycle de tr√©sorerie\", f\"{ccc:.0f} j\")\n",
    "            \n",
    "            if ccc < 0:\n",
    "                st.success(\"üéâ Tr√©sorerie g√©n√©r√©e par le cycle d'exploitation\")\n",
    "            else:\n",
    "                st.info(\"üí° BFR √† financer\")\n",
    "                \n",
    "            # Cibles sectorielles\n",
    "            st.markdown(\"#### üéØ Cibles sectorielles typiques\")\n",
    "            st.write(\"**D√©lai clients**: 30-60 jours\")\n",
    "            st.write(\"**D√©lai stocks**: 30-90 jours\")\n",
    "            st.write(\"**D√©lai fournisseurs**: 30-60 jours\")\n",
    "    \n",
    "    with tab4:\n",
    "        st.subheader(\"Ratios de Liquidit√©\")\n",
    "        \n",
    "        col1, col2 = st.columns(2)\n",
    "        \n",
    "        with col1:\n",
    "            actif_circulant = st.number_input(\"Actif circulant (k‚Ç¨)\", value=800, key=\"actif_circulant\")\n",
    "            stocks_liquidite = st.number_input(\"Stocks (k‚Ç¨)\", value=200, key=\"stocks_liquidite\")\n",
    "            disponibilites = st.number_input(\"Disponibilit√©s (k‚Ç¨)\", value=100, key=\"disponibilites\")\n",
    "            passif_courant = st.number_input(\"Passif courant (k‚Ç¨)\", value=500, key=\"passif_courant\")\n",
    "        \n",
    "        with col2:\n",
    "            # Calcul des ratios\n",
    "            liquidite_generale = actif_circulant / passif_courant\n",
    "            liquidite_reduite = (actif_circulant - stocks_liquidite) / passif_courant\n",
    "            liquidite_immediate = disponibilites / passif_courant\n",
    "            \n",
    "            st.metric(\"Liquidit√© g√©n√©rale\", f\"{liquidite_generale:.2f}\")\n",
    "            st.metric(\"Liquidit√© r√©duite\", f\"{liquidite_reduite:.2f}\")\n",
    "            st.metric(\"Liquidit√© imm√©diate\", f\"{liquidite_immediate:.2f}\")\n",
    "            \n",
    "            # Seuils de r√©f√©rence\n",
    "            st.markdown(\"#### üìà Seuils de r√©f√©rence\")\n",
    "            st.write(\"**Liquidit√© g√©n√©rale > 1.2**\")\n",
    "            st.write(\"**Liquidit√© r√©duite > 0.8**\")\n",
    "            st.write(\"**Liquidit√© imm√©diate > 0.2**\")\n",
    "            \n",
    "            # Diagnostic\n",
    "            if liquidite_generale > 1.2:\n",
    "                st.success(\"‚úÖ Bonne liquidit√© g√©n√©rale\")\n",
    "            else:\n",
    "                st.warning(\"‚ö†Ô∏è Liquidit√© g√©n√©rale √† surveiller\")\n",
    "\n",
    "# Section √âvaluation d'Entreprise\n",
    "elif section == \"üéØ √âvaluation d'Entreprise\":\n",
    "    st.header(\"üéØ √âvaluation d'Entreprise et Risque de Cr√©dit\")\n",
    "    \n",
    "    if not st.session_state.progression['evaluation']:\n",
    "        if st.button(\"‚úÖ Marquer ce module comme compl√©t√©\"):\n",
    "            st.session_state.progression['evaluation'] = True\n",
    "            st.session_state.notifications.append({\n",
    "                \"type\": \"success\", \n",
    "                \"message\": \"üéâ Module √âvaluation compl√©t√© !\", \n",
    "                \"date\": datetime.now().strftime(\"%Y-%m-%d\")\n",
    "            })\n",
    "            st.rerun()\n",
    "    \n",
    "    method = st.selectbox(\n",
    "        \"Choisissez la m√©thode d'√©valuation:\",\n",
    "        [\"Flux de Tr√©sorerie Actualis√©s (DCF)\", \"Multiples de March√©\", \"Approche Patrimoniale\"]\n",
    "    )\n",
    "    \n",
    "    if method == \"Flux de Tr√©sorerie Actualis√©s (DCF)\":\n",
    "        st.subheader(\"üíé Calculateur DCF\")\n",
    "        \n",
    "        col1, col2 = st.columns(2)\n",
    "        \n",
    "        with col1:\n",
    "            st.markdown(\"### Hypoth√®ses\")\n",
    "            fcf_actuel = st.number_input(\"Free Cash Flow actuel (k‚Ç¨)\", value=500)\n",
    "            croissance_5ans = st.slider(\"Croissance 5 premi√®res ann√©es (%)\", 1.0, 15.0, 5.0)\n",
    "            croissance_perpetuite = st.slider(\"Croissance √† perp√©tuit√© (%)\", 0.0, 5.0, 2.0)\n",
    "            wacc = st.slider(\"WACC (%)\", 5.0, 15.0, 9.0)\n",
    "            dette_financiere = st.number_input(\"Dette financi√®re nette (k‚Ç¨)\", value=800)\n",
    "        \n",
    "        with col2:\n",
    "            st.markdown(\"### Calcul de la Valeur\")\n",
    "            \n",
    "            # Calcul DCF simplifi√©\n",
    "            valeur_flux_explicites = 0\n",
    "            fcf = fcf_actuel\n",
    "            \n",
    "            for annee in range(1, 6):\n",
    "                fcf *= (1 + croissance_5ans/100)\n",
    "                valeur_flux_explicites += fcf / ((1 + wacc/100) ** annee)\n",
    "            \n",
    "            # Valeur terminale\n",
    "            fcf_annee5 = fcf_actuel * ((1 + croissance_5ans/100) ** 5)\n",
    "            valeur_terminale = (fcf_annee5 * (1 + croissance_perpetuite/100)) / ((wacc/100) - (croissance_perpetuite/100))\n",
    "            valeur_terminale_actualisee = valeur_terminale / ((1 + wacc/100) ** 5)\n",
    "            \n",
    "            valeur_entreprise = valeur_flux_explicites + valeur_terminale_actualisee\n",
    "            valeur_actions = valeur_entreprise - dette_financiere\n",
    "            \n",
    "            st.metric(\"Valeur de l'entreprise\", f\"{valeur_entreprise:,.0f} k‚Ç¨\")\n",
    "            st.metric(\"Valeur des flux explicites\", f\"{valeur_flux_explicites:,.0f} k‚Ç¨\")\n",
    "            st.metric(\"Valeur terminale actualis√©e\", f\"{valeur_terminale_actualisee:,.0f} k‚Ç¨\")\n",
    "            st.metric(\"Valeur des actions\", f\"{valeur_actions:,.0f} k‚Ç¨\")\n",
    "            \n",
    "            # Sensibilit√©\n",
    "            st.markdown(\"#### üéöÔ∏è Analyse de Sensibilit√©\")\n",
    "            sensibilite_croissance = st.slider(\"Variation croissance (%)\", -2.0, 2.0, 0.0)\n",
    "            sensibilite_wacc = st.slider(\"Variation WACC (%)\", -1.0, 1.0, 0.0)\n",
    "            \n",
    "            nouvelle_croissance = croissance_perpetuite + sensibilite_croissance\n",
    "            nouveau_wacc = wacc + sensibilite_wacc\n",
    "            \n",
    "            if nouveau_wacc/100 > nouvelle_croissance/100:\n",
    "                nouvelle_valeur_terminale = (fcf_annee5 * (1 + nouvelle_croissance/100)) / ((nouveau_wacc/100) - (nouvelle_croissance/100))\n",
    "                nouvelle_valeur_entreprise = valeur_flux_explicites + (nouvelle_valeur_terminale / ((1 + nouveau_wacc/100) ** 5))\n",
    "                variation = ((nouvelle_valeur_entreprise - valeur_entreprise) / valeur_entreprise) * 100\n",
    "                \n",
    "                st.metric(\"Nouvelle valeur entreprise\", f\"{nouvelle_valeur_entreprise:,.0f} k‚Ç¨\", f\"{variation:+.1f}%\")\n",
    "    \n",
    "    elif method == \"Multiples de March√©\":\n",
    "        st.subheader(\"üìä √âvaluation par les Multiples\")\n",
    "        \n",
    "        col1, col2 = st.columns(2)\n",
    "        \n",
    "        with col1:\n",
    "            st.markdown(\"### Donn√©es de l'entreprise\")\n",
    "            ebitda = st.number_input(\"EBITDA (k‚Ç¨)\", value=400)\n",
    "            resultat_net = st.number_input(\"R√©sultat net (k‚Ç¨)\", value=250)\n",
    "            chiffre_affaires = st.number_input(\"Chiffre d'affaires (k‚Ç¨)\", value=2000)\n",
    "            dette_nette = st.number_input(\"Dette nette (k‚Ç¨)\", value=800)\n",
    "        \n",
    "        with col2:\n",
    "            st.markdown(\"### Multiples de r√©f√©rence\")\n",
    "            multiple_ebitda = st.slider(\"Multiple EBITDA\", 4.0, 12.0, 8.0)\n",
    "            multiple_resultat = st.slider(\"Multiple du r√©sultat net\", 8.0, 20.0, 12.0)\n",
    "            multiple_ca = st.slider(\"Multiple du CA\", 0.5, 3.0, 1.5)\n",
    "            \n",
    "            # Calculs\n",
    "            valeur_ebitda = ebitda * multiple_ebitda\n",
    "            valeur_resultat = resultat_net * multiple_resultat\n",
    "            valeur_ca = chiffre_affaires * multiple_ca\n",
    "            \n",
    "            # Moyenne pond√©r√©e\n",
    "            valeur_moyenne = (valeur_ebitda + valeur_resultat + valeur_ca) / 3\n",
    "            valeur_entreprise = valeur_moyenne\n",
    "            valeur_actions = valeur_entreprise - dette_nette\n",
    "            \n",
    "            st.metric(\"Valeur par EBITDA\", f\"{valeur_ebitda:,.0f} k‚Ç¨\")\n",
    "            st.metric(\"Valeur par r√©sultat net\", f\"{valeur_resultat:,.0f} k‚Ç¨\")\n",
    "            st.metric(\"Valeur par CA\", f\"{valeur_ca:,.0f} k‚Ç¨\")\n",
    "            st.metric(\"Valeur moyenne entreprise\", f\"{valeur_entreprise:,.0f} k‚Ç¨\")\n",
    "            st.metric(\"Valeur des actions\", f\"{valeur_actions:,.0f} k‚Ç¨\")\n",
    "    \n",
    "    else:  # Approche Patrimoniale\n",
    "        st.subheader(\"üèõÔ∏è Approche Patrimoniale\")\n",
    "        \n",
    "        col1, col2 = st.columns(2)\n",
    "        \n",
    "        with col1:\n",
    "            st.markdown(\"### Actifs\")\n",
    "            actif_immobilise = st.number_input(\"Actif immobilis√© (k‚Ç¨)\", value=1500)\n",
    "            actif_circulant = st.number_input(\"Actif circulant (k‚Ç¨)\", value=800)\n",
    "            plus_values_latentes = st.number_input(\"Plus-values latentes (k‚Ç¨)\", value=200)\n",
    "            actifs_incorporels = st.number_input(\"Actifs incorporels (k‚Ç¨)\", value=300)\n",
    "        \n",
    "        with col2:\n",
    "            st.markdown(\"### Passifs\")\n",
    "            dettes_financieres = st.number_input(\"Dettes financi√®res (k‚Ç¨)\", value=800)\n",
    "            dettes_exploitation = st.number_input(\"Dettes d'exploitation (k‚Ç¨)\", value=400)\n",
    "            provisions = st.number_input(\"Provisions (k‚Ç¨)\", value=100)\n",
    "            moins_values_latentes = st.number_input(\"Moins-values latentes (k‚Ç¨)\", value=50)\n",
    "        \n",
    "        # Calcul ANC\n",
    "        actif_reel = actif_immobilise + actif_circulant + plus_values_latentes + actifs_incorporels\n",
    "        passif_reel = dettes_financieres + dettes_exploitation + provisions + moins_values_latentes\n",
    "        anc = actif_reel - passif_reel\n",
    "        \n",
    "        st.metric(\"Actif Net Comptable (ANC)\", f\"{anc:,.0f} k‚Ç¨\")\n",
    "        st.metric(\"Actif r√©el\", f\"{actif_reel:,.0f} k‚Ç¨\")\n",
    "        st.metric(\"Passif r√©el\", f\"{passif_reel:,.0f} k‚Ç¨\")\n",
    "        \n",
    "        # Goodwill estim√©\n",
    "        st.markdown(\"### üéØ Goodwill estim√©\")\n",
    "        rentabilite_souhaitee = st.slider(\"Rentabilit√© souhait√©e (%)\", 8.0, 20.0, 12.0)\n",
    "        resultat_net_recurrent = st.number_input(\"R√©sultat net r√©current (k‚Ç¨)\", value=180)\n",
    "        \n",
    "        if rentabilite_souhaitee > 0:\n",
    "            valeur_rentabilite = resultat_net_recurrent / (rentabilite_souhaitee/100)\n",
    "            goodwill = valeur_rentabilite - anc\n",
    "            valeur_totale = anc + max(0, goodwill)\n",
    "            \n",
    "            st.metric(\"Valeur de rentabilit√©\", f\"{valeur_rentabilite:,.0f} k‚Ç¨\")\n",
    "            st.metric(\"Goodwill estim√©\", f\"{goodwill:,.0f} k‚Ç¨\")\n",
    "            st.metric(\"Valeur totale\", f\"{valeur_totale:,.0f} k‚Ç¨\")\n",
    "\n",
    "# Section Cas Pratiques\n",
    "elif section == \"üè¢ Cas Pratiques\":\n",
    "    st.header(\"üè¢ √âtudes de Cas Complets\")\n",
    "    \n",
    "    if not st.session_state.progression['cas_pratiques']:\n",
    "        if st.button(\"‚úÖ Marquer ce module comme compl√©t√©\"):\n",
    "            st.session_state.progression['cas_pratiques'] = True\n",
    "            st.session_state.notifications.append({\n",
    "                \"type\": \"success\", \n",
    "                \"message\": \"üéâ Module Cas Pratiques compl√©t√© !\", \n",
    "                \"date\": datetime.now().strftime(\"%Y-%m-%d\")\n",
    "            })\n",
    "            st.rerun()\n",
    "    \n",
    "    cas_choice = st.selectbox(\n",
    "        \"Choisissez un cas d'√©tude:\",\n",
    "        [\"üöÄ Startup Tech\", \"üè≠ PMI Industrielle\", \"üõí Commerce de D√©tail\", \"üíª ESI (Entreprise de Services Informatiques)\"]\n",
    "    )\n",
    "    \n",
    "    if cas_choice == \"üöÄ Startup Tech\":\n",
    "        st.subheader(\"üöÄ Startup Technologique - Croissance Rapide\")\n",
    "        \n",
    "        st.markdown(\"\"\"\n",
    "        **Contexte**: Une startup SaaS avec une croissance de 50% par an mais des pertes importantes.\n",
    "        **Enjeu**: √âvaluer la soutenabilit√© du mod√®le et les besoins de financement.\n",
    "        \"\"\")\n",
    "        \n",
    "        col1, col2 = st.columns(2)\n",
    "        \n",
    "        with col1:\n",
    "            st.markdown(\"**Donn√©es de la startup**\")\n",
    "            ca = st.slider(\"Chiffre d'affaires (k‚Ç¨)\", 500, 5000, 1500)\n",
    "            croissance = st.slider(\"Taux de croissance (%)\", 10, 100, 50)\n",
    "            marge_brute = st.slider(\"Marge brute (%)\", 10, 90, 70)\n",
    "            frais_fixes = st.slider(\"Frais fixes (k‚Ç¨)\", 500, 3000, 1200)\n",
    "            besoin_bfr = st.slider(\"BFR (mois de CA)\", 1, 6, 3)\n",
    "        \n",
    "        with col2:\n",
    "            # Calculs automatiques\n",
    "            marge_absolue = ca * marge_brute / 100\n",
    "            resultat_operationnel = marge_absolue - frais_fixes\n",
    "            bfr_absolu = (ca * besoin_bfr) / 12\n",
    "            ca_an_prochain = ca * (1 + croissance/100)\n",
    "            \n",
    "            st.metric(\"R√©sultat op√©rationnel\", f\"{resultat_operationnel:,.0f} k‚Ç¨\")\n",
    "            st.metric(\"BFR √† financer\", f\"{bfr_absolu:,.0f} k‚Ç¨\")\n",
    "            st.metric(\"CA ann√©e N+1\", f\"{ca_an_prochain:,.0f} k‚Ç¨\")\n",
    "            \n",
    "            # Diagnostic\n",
    "            if resultat_operationnel < 0:\n",
    "                st.error(\"**Probl√®me**: Pertes op√©rationnelles\")\n",
    "                st.write(\"**Solution possible**: Lever des fonds ou r√©duire les co√ªts fixes\")\n",
    "            else:\n",
    "                st.success(\"**Opportunit√©**: Rentabilit√© atteinte\")\n",
    "                \n",
    "            if bfr_absolu > resultat_operationnel and resultat_operationnel > 0:\n",
    "                st.warning(\"**Attention**: La croissance consomme plus de tr√©sorerie qu'elle n'en g√©n√®re\")\n",
    "            \n",
    "            # Graphique d'√©volution\n",
    "            annees = range(5)\n",
    "            ca_projete = [ca * ((1 + croissance/100) ** i) for i in annees]\n",
    "            \n",
    "            fig_startup = go.Figure()\n",
    "            fig_startup.add_trace(go.Scatter(\n",
    "                x=list(annees),\n",
    "                y=ca_projete,\n",
    "                mode='lines+markers',\n",
    "                name='CA projet√©',\n",
    "                line=dict(color='blue', width=3)\n",
    "            ))\n",
    "            fig_startup.update_layout(\n",
    "                title=\"Projection de croissance du CA\",\n",
    "                xaxis_title=\"Ann√©es\",\n",
    "                yaxis_title=\"Chiffre d'affaires (k‚Ç¨)\",\n",
    "                height=300\n",
    "            )\n",
    "            st.plotly_chart(fig_startup, use_container_width=True)\n",
    "    \n",
    "    elif cas_choice == \"üè≠ PMI Industrielle\":\n",
    "        st.subheader(\"üè≠ PMI Industrielle - Optimisation du BFR\")\n",
    "        \n",
    "        st.markdown(\"\"\"\n",
    "        **Contexte**: Entreprise industrielle stable mais avec des tensions de tr√©sorerie r√©currentes.\n",
    "        **Enjeu**: Am√©liorer la tr√©sorerie sans impacter la croissance.\n",
    "        \"\"\")\n",
    "        \n",
    "        col1, col2, col3 = st.columns(3)\n",
    "        \n",
    "        with col1:\n",
    "            st.markdown(\"**D√©lais actuels**\")\n",
    "            delai_clients = st.slider(\"D√©lai clients (jours)\", 30, 120, 75)\n",
    "            delai_stocks = st.slider(\"D√©lai stocks (jours)\", 15, 90, 45)\n",
    "            delai_fournisseurs = st.slider(\"D√©lai fournisseurs (jours)\", 20, 90, 30)\n",
    "            ca_journalier = st.number_input(\"CA journalier (k‚Ç¨)\", value=10.0)\n",
    "        \n",
    "        with col2:\n",
    "            st.markdown(\"**Objectifs d'optimisation**\")\n",
    "            objectif_clients = st.slider(\"Objectif d√©lai clients\", 30, 120, 60)\n",
    "            objectif_stocks = st.slider(\"Objectif d√©lai stocks\", 15, 90, 35)\n",
    "            objectif_fournisseurs = st.slider(\"Objectif d√©lai fournisseurs\", 20, 90, 40)\n",
    "        \n",
    "        with col3:\n",
    "            # Calcul des gains\n",
    "            gain_clients = (delai_clients - objectif_clients) * ca_journalier\n",
    "            gain_stocks = (delai_stocks - objectif_stocks) * ca_journalier * 0.6  # Co√ªt des stocks\n",
    "            gain_fournisseurs = (objectif_fournisseurs - delai_fournisseurs) * ca_journalier * 0.8  # Achats\n",
    "            \n",
    "            gain_total = gain_clients + gain_stocks + gain_fournisseurs\n",
    "            \n",
    "            st.metric(\"Gain sur clients\", f\"{gain_clients:,.0f} k‚Ç¨\")\n",
    "            st.metric(\"Gain sur stocks\", f\"{gain_stocks:,.0f} k‚Ç¨\")\n",
    "            st.metric(\"Gain sur fournisseurs\", f\"{gain_fournisseurs:,.0f} k‚Ç¨\")\n",
    "            st.metric(\"**GAIN TOTAL TR√âSORERIE**\", f\"{gain_total:,.0f} k‚Ç¨\")\n",
    "            \n",
    "            if gain_total > 0:\n",
    "                st.success(\"‚úÖ Optimisation possible\")\n",
    "            else:\n",
    "                st.warning(\"‚ö†Ô∏è Revoir les objectifs\")\n",
    "        \n",
    "        # Plan d'action\n",
    "        st.markdown(\"### üéØ Plan d'Action Recommand√©\")\n",
    "        \n",
    "        actions = [\n",
    "            f\"**Relance clients**: R√©duire le d√©lai de {delai_clients} √† {objectif_clients} jours\",\n",
    "            f\"**Optimisation stocks**: Passer de {delai_stocks} √† {objectif_stocks} jours de stock\",\n",
    "            f\"**N√©gociation fournisseurs**: Augmenter le d√©lai de {delai_fournisseurs} √† {objectif_fournisseurs} jours\",\n",
    "            f\"**Gain total**: {gain_total:,.0f} k‚Ç¨ de tr√©sorerie d√©gag√©e\"\n",
    "        ]\n",
    "        \n",
    "        for action in actions:\n",
    "            st.write(f\"‚Ä¢ {action}\")\n",
    "\n",
    "# Section Pr√©visions IA (limit√© pour la d√©mo)\n",
    "elif section == \"ü§ñ Pr√©visions IA\":\n",
    "    st.header(\"ü§ñ Pr√©visions Financi√®res par Intelligence Artificielle\")\n",
    "    \n",
    "    st.markdown(\"\"\"\n",
    "    Ce module utilise des algorithmes de machine learning pour pr√©dire les tendances financi√®res \n",
    "    bas√©es sur des donn√©es historiques et des indicateurs √©conomiques.\n",
    "    \"\"\")\n",
    "    \n",
    "    tab1, tab2 = st.tabs([\"üìä Pr√©vision de CA\", \"üéØ Mod√®le Pr√©dictif Avanc√©\"])\n",
    "    \n",
    "    with tab1:\n",
    "        st.subheader(\"Pr√©vision de Chiffre d'Affaires par R√©gression\")\n",
    "        \n",
    "        # G√©n√©ration de donn√©es historiques simul√©es\n",
    "        annees = list(range(2015, 2024))\n",
    "        ca_historique = [1000, 1100, 1250, 1400, 1600, 1850, 2100, 2400, 2750]\n",
    "        \n",
    "        col1, col2 = st.columns(2)\n",
    "        \n",
    "        with col1:\n",
    "            st.markdown(\"**Donn√©es Historiques**\")\n",
    "            df_historique = pd.DataFrame({\n",
    "                'Ann√©e': annees,\n",
    "                'CA (k‚Ç¨)': ca_historique\n",
    "            })\n",
    "            st.dataframe(df_historique, use_container_width=True)\n",
    "            \n",
    "            # Personnalisation\n",
    "            croissance_moyenne = st.slider(\"Croissance moyenne attendue (%)\", 1.0, 20.0, 12.0)\n",
    "            volatilite = st.slider(\"Volatilit√© des pr√©visions\", 1.0, 10.0, 3.0)\n",
    "        \n",
    "        with col2:\n",
    "            # Pr√©paration des donn√©es pour le mod√®le\n",
    "            X = np.array(annees).reshape(-1, 1)\n",
    "            y = np.array(ca_historique)\n",
    "            \n",
    "            # Entra√Ænement du mod√®le\n",
    "            model = LinearRegression()\n",
    "            model.fit(X, y)\n",
    "            \n",
    "            # Pr√©visions\n",
    "            annees_futures = list(range(2024, 2030))\n",
    "            X_futur = np.array(annees_futures).reshape(-1, 1)\n",
    "            predictions = model.predict(X_futur)\n",
    "            \n",
    "            # Ajout d'une composante al√©atoire pour le r√©alisme\n",
    "            np.random.seed(42)\n",
    "            bruit = np.random.normal(0, volatilite/100 * predictions, predictions.shape)\n",
    "            predictions_ajustees = predictions * (1 + croissance_moyenne/100) + bruit\n",
    "            \n",
    "            # Graphique des pr√©visions\n",
    "            fig = go.Figure()\n",
    "            \n",
    "            fig.add_trace(go.Scatter(\n",
    "                x=annees, y=ca_historique,\n",
    "                mode='lines+markers',\n",
    "                name='Historique',\n",
    "                line=dict(color='blue', width=3)\n",
    "            ))\n",
    "            \n",
    "            fig.add_trace(go.Scatter(\n",
    "                x=annees_futures, y=predictions_ajustees,\n",
    "                mode='lines+markers',\n",
    "                name='Pr√©visions IA',\n",
    "                line=dict(color='red', width=3, dash='dash')\n",
    "            ))\n",
    "            \n",
    "            fig.update_layout(\n",
    "                title=\"Pr√©vision de Chiffre d'Affaires par Intelligence Artificielle\",\n",
    "                xaxis_title=\"Ann√©e\",\n",
    "                yaxis_title=\"Chiffre d'Affaires (k‚Ç¨)\",\n",
    "                showlegend=True,\n",
    "                height=400\n",
    "            )\n",
    "            \n",
    "            st.plotly_chart(fig, use_container_width=True)\n",
    "            \n",
    "            # Affichage des pr√©visions d√©taill√©es\n",
    "            st.markdown(\"**D√©tail des Pr√©visions**\")\n",
    "            for annee, prediction in zip(annees_futures, predictions_ajustees):\n",
    "                st.write(f\"**{annee}**: {prediction:,.0f} k‚Ç¨\")\n",
    "\n",
    "# Section Donn√©es R√©elles (limit√© pour la d√©mo)\n",
    "elif section == \"üåç Donn√©es R√©elles\":\n",
    "    st.header(\"üåç Analyse avec Donn√©es R√©elles du March√©\")\n",
    "    \n",
    "    tab1, tab2 = st.tabs([\"üìà Actions Cot√©es\", \"üìä Benchmark Sectoriel\"])\n",
    "    \n",
    "    with tab1:\n",
    "        st.subheader(\"üìà Analyse d'Entreprises Cot√©es\")\n",
    "        \n",
    "        col1, col2 = st.columns([1, 2])\n",
    "        \n",
    "        with col1:\n",
    "            # S√©lection des entreprises\n",
    "            entreprises = {\n",
    "                \"Apple\": \"AAPL\",\n",
    "                \"Microsoft\": \"MSFT\", \n",
    "                \"Amazon\": \"AMZN\",\n",
    "                \"Google\": \"GOOGL\",\n",
    "                \"Tesla\": \"TSLA\",\n",
    "                \"LVMH\": \"MC.PA\",\n",
    "                \"L'Or√©al\": \"OR.PA\",\n",
    "                \"Airbus\": \"AIR.PA\"\n",
    "            }\n",
    "            \n",
    "            entreprise_choisie = st.selectbox(\"Choisissez une entreprise:\", list(entreprises.keys()))\n",
    "            ticker = entreprises[entreprise_choisie]\n",
    "            periode = st.selectbox(\"P√©riode d'analyse:\", [\"1mo\", \"3mo\", \"6mo\", \"1y\", \"2y\", \"5y\"])\n",
    "            \n",
    "            if st.button(\"üîÑ Charger les donn√©es\"):\n",
    "                with st.spinner(\"Chargement des donn√©es financi√®res...\"):\n",
    "                    try:\n",
    "                        # R√©cup√©ration des donn√©es\n",
    "                        stock = yf.Ticker(ticker)\n",
    "                        historique = stock.history(period=periode)\n",
    "                        info = stock.info\n",
    "                        \n",
    "                        # Sauvegarde dans la session\n",
    "                        st.session_state.stock_data = {\n",
    "                            'historique': historique,\n",
    "                            'info': info,\n",
    "                            'ticker': ticker\n",
    "                        }\n",
    "                        st.success(\"Donn√©es charg√©es avec succ√®s !\")\n",
    "                        \n",
    "                    except Exception as e:\n",
    "                        st.error(f\"Erreur lors du chargement: {e}\")\n",
    "        \n",
    "        with col2:\n",
    "            if 'stock_data' in st.session_state:\n",
    "                data = st.session_state.stock_data\n",
    "                historique = data['historique']\n",
    "                info = data['info']\n",
    "                \n",
    "                # Affichage des indicateurs cl√©s\n",
    "                st.subheader(f\"Indicateurs Cl√©s - {ticker}\")\n",
    "                \n",
    "                col_met1, col_met2, col_met3, col_met4 = st.columns(4)\n",
    "                \n",
    "                with col_met1:\n",
    "                    prix_actuel = historique['Close'][-1]\n",
    "                    variation = ((prix_actuel - historique['Close'][0]) / historique['Close'][0]) * 100\n",
    "                    st.metric(\"Prix Actuel\", f\"{prix_actuel:.2f} $\", f\"{variation:+.2f}%\")\n",
    "                \n",
    "                with col_met2:\n",
    "                    per = info.get('trailingPE', 'N/A')\n",
    "                    st.metric(\"P/E Ratio\", f\"{per if per != 'N/A' else 'N/A'}\")\n",
    "                \n",
    "                with col_met3:\n",
    "                    market_cap = info.get('marketCap', 0)\n",
    "                    st.metric(\"Market Cap\", f\"{market_cap/1e9:.1f} B$\")\n",
    "                \n",
    "                with col_met4:\n",
    "                    dividend_yield = info.get('dividendYield', 0) * 100 if info.get('dividendYield') else 0\n",
    "                    st.metric(\"Dividend Yield\", f\"{dividend_yield:.2f}%\")\n",
    "                \n",
    "                # Graphique des prix\n",
    "                fig = go.Figure()\n",
    "                fig.add_trace(go.Candlestick(\n",
    "                    x=historique.index,\n",
    "                    open=historique['Open'],\n",
    "                    high=historique['High'],\n",
    "                    low=historique['Low'],\n",
    "                    close=historique['Close'],\n",
    "                    name='Prix'\n",
    "                ))\n",
    "                \n",
    "                fig.update_layout(\n",
    "                    title=f\"√âvolution du cours de {ticker}\",\n",
    "                    xaxis_title=\"Date\",\n",
    "                    yaxis_title=\"Prix ($)\",\n",
    "                    height=400\n",
    "                )\n",
    "                \n",
    "                st.plotly_chart(fig, use_container_width=True)\n",
    "\n",
    "# Section Mes Analyses\n",
    "elif section == \"üíæ Mes Analyses\":\n",
    "    st.header(\"üíæ Gestion de Mes Analyses\")\n",
    "    \n",
    "    tab1, tab2, tab3 = st.tabs([\"üìÅ Sauvegardes\", \"üë• Collaboration\", \"üì§ Export\"])\n",
    "    \n",
    "    with tab1:\n",
    "        st.subheader(\"Sauvegarde des Analyses\")\n",
    "        \n",
    "        # Formulaire de sauvegarde\n",
    "        with st.form(\"sauvegarde_form\"):\n",
    "            nom_analyse = st.text_input(\"Nom de l'analyse\", \"Analyse Soci√©t√© X\")\n",
    "            description = st.text_area(\"Description\", \"Analyse compl√®te des ratios et de la performance...\")\n",
    "            tags = st.text_input(\"Tags (s√©par√©s par des virgules)\", \"ratios, performance, valuation\")\n",
    "            \n",
    "            if st.form_submit_button(\"üíæ Sauvegarder l'analyse actuelle\"):\n",
    "                nouvelle_analyse = {\n",
    "                    'id': len(st.session_state.analyses_sauvegardees) + 1,\n",
    "                    'nom': nom_analyse,\n",
    "                    'description': description,\n",
    "                    'tags': tags,\n",
    "                    'date': datetime.now().strftime(\"%d/%m/%Y %H:%M\"),\n",
    "                    'data': {\n",
    "                        'ratios': {},\n",
    "                        'equilibre': {}\n",
    "                    }\n",
    "                }\n",
    "                st.session_state.analyses_sauvegardees.append(nouvelle_analyse)\n",
    "                st.success(\"‚úÖ Analyse sauvegard√©e avec succ√®s !\")\n",
    "        \n",
    "        # Liste des analyses sauvegard√©es\n",
    "        st.subheader(\"Mes Analyses Sauvegard√©es\")\n",
    "        \n",
    "        if st.session_state.analyses_sauvegardees:\n",
    "            for analyse in st.session_state.analyses_sauvegardees:\n",
    "                with st.expander(f\"üìä {analyse['nom']} - {analyse['date']}\"):\n",
    "                    st.write(f\"**Description**: {analyse['description']}\")\n",
    "                    st.write(f\"**Tags**: {analyse['tags']}\")\n",
    "                    \n",
    "                    col_act1, col_act2 = st.columns(2)\n",
    "                    with col_act1:\n",
    "                        if st.button(f\"üìñ Charger\", key=f\"load_{analyse['id']}\"):\n",
    "                            st.session_state.current_analysis = analyse\n",
    "                            st.success(\"Analyse charg√©e !\")\n",
    "                    with col_act2:\n",
    "                        if st.button(f\"üóëÔ∏è Supprimer\", key=f\"del_{analyse['id']}\"):\n",
    "                            st.session_state.analyses_sauvegardees = [\n",
    "                                a for a in st.session_state.analyses_sauvegardees \n",
    "                                if a['id'] != analyse['id']\n",
    "                            ]\n",
    "                            st.rerun()\n",
    "        else:\n",
    "            st.info(\"‚ÑπÔ∏è Aucune analyse sauvegard√©e pour le moment\")\n",
    "\n",
    "# Section Mon Dashboard\n",
    "elif section == \"üìä Mon Dashboard\":\n",
    "    st.header(\"üìä Mon Dashboard Personnel\")\n",
    "    \n",
    "    # Calcul de la progression globale\n",
    "    modules_completes = sum(st.session_state.progression.values())\n",
    "    progression_totale = (modules_completes / len(st.session_state.progression)) * 100\n",
    "    \n",
    "    # M√©triques principales\n",
    "    col1, col2, col3, col4 = st.columns(4)\n",
    "    \n",
    "    with col1:\n",
    "        st.metric(\"üìö Modules Compl√©t√©s\", f\"{modules_completes}/6\")\n",
    "    with col2:\n",
    "        st.metric(\"üéØ Progression Globale\", f\"{progression_totale:.0f}%\")\n",
    "    with col3:\n",
    "        analyses_count = len(st.session_state.get('analyses_sauvegardees', []))\n",
    "        st.metric(\"üíæ Analyses Sauvegard√©es\", analyses_count)\n",
    "    with col4:\n",
    "        quiz_score = st.session_state.get('quiz_score', 0)\n",
    "        st.metric(\"üèÜ Score Quiz\", f\"{quiz_score:.0f}%\")\n",
    "    \n",
    "    # Graphique de progression\n",
    "    st.subheader(\"üìà Ma Progression d'Apprentissage\")\n",
    "    \n",
    "    modules = ['Fondamentaux', 'Ratios', '√âquilibre', '√âvaluation', 'Cas Pratiques', 'Quiz']\n",
    "    progression_par_module = [\n",
    "        st.session_state.progression.get('fondamentaux', False) * 100,\n",
    "        st.session_state.progression.get('ratios', False) * 100,\n",
    "        st.session_state.progression.get('equilibre', False) * 100,\n",
    "        st.session_state.progression.get('evaluation', False) * 100,\n",
    "        st.session_state.progression.get('cas_pratiques', False) * 100,\n",
    "        st.session_state.progression.get('quiz', False) * 100\n",
    "    ]\n",
    "    \n",
    "    fig_progression = go.Figure()\n",
    "    fig_progression.add_trace(go.Bar(\n",
    "        x=modules,\n",
    "        y=progression_par_module,\n",
    "        marker_color=['green' if p == 100 else 'orange' for p in progression_par_module]\n",
    "    ))\n",
    "    \n",
    "    fig_progression.update_layout(\n",
    "        title=\"Progression par Module\",\n",
    "        yaxis=dict(range=[0, 100]),\n",
    "        height=300\n",
    "    )\n",
    "    \n",
    "    st.plotly_chart(fig_progression, use_container_width=True)\n",
    "    \n",
    "    # Recommandations personnalis√©es\n",
    "    st.subheader(\"üéØ Recommandations Personnalis√©es\")\n",
    "    \n",
    "    col_rec1, col_rec2 = st.columns(2)\n",
    "    \n",
    "    with col_rec1:\n",
    "        if not st.session_state.progression.get('fondamentaux', False):\n",
    "            st.error(\"**üìã Priorit√©**: Commencez par les fondamentaux de l'analyse financi√®re\")\n",
    "        elif not st.session_state.progression.get('ratios', False):\n",
    "            st.warning(\"**‚ö° Prochaine √©tape**: Ma√Ætrisez l'analyse par les ratios\")\n",
    "        else:\n",
    "            st.success(\"**üöÄ Excellent**: Vous ma√Ætrisez les bases ! Passez aux cas pratiques\")\n",
    "    \n",
    "    with col_rec2:\n",
    "        if analyses_count == 0:\n",
    "            st.info(\"**üí° Astuce**: Sauvegardez vos premi√®res analyses pour les retrouver plus tard\")\n",
    "        else:\n",
    "            st.success(f\"**üìä Actif**: Vous avez {analyses_count} analyses sauvegard√©es\")\n",
    "\n",
    "# Section Aide & Support\n",
    "elif section == \"‚ùì Aide & Support\":\n",
    "    st.header(\"‚ùì Centre d'Aide et Support\")\n",
    "    \n",
    "    tab1, tab2, tab3, tab4 = st.tabs([\"üìñ Guide Utilisateur\", \"üé• Tutoriels Vid√©o\", \"‚ùì FAQ\", \"üìû Support\"])\n",
    "    \n",
    "    with tab1:\n",
    "        st.subheader(\"üìñ Guide d'Utilisation Complet\")\n",
    "        \n",
    "        with st.expander(\"üéØ Premiers Pas\"):\n",
    "            st.markdown(\"\"\"\n",
    "            **Bienvenue dans FinanceLab !**\n",
    "            \n",
    "            1. **Commencez** par le module \"Fondamentaux\" pour apprendre les bases\n",
    "            2. **Pratiquez** avec les calculateurs interactifs\n",
    "            3. **Testez** vos connaissances avec les quiz\n",
    "            4. **Appliquez** vos comp√©tences avec les cas pratiques\n",
    "            \"\"\")\n",
    "        \n",
    "        with st.expander(\"üìä Comprendre les Ratios\"):\n",
    "            st.markdown(\"\"\"\n",
    "            **Les ratios cl√©s √† ma√Ætriser:**\n",
    "            \n",
    "            - **ROE** (Return on Equity): Rentabilit√© des capitaux propres\n",
    "            - **ROA** (Return on Assets): Efficacit√© de l'utilisation des actifs  \n",
    "            - **Ratio d'endettement**: Niveau d'endettement de l'entreprise\n",
    "            - **BFR** (Besoin en Fonds de Roulement): Besoin de financement du cycle d'exploitation\n",
    "            \"\"\")\n",
    "    \n",
    "    with tab2:\n",
    "        st.subheader(\"üé• Tutoriels Vid√©o\")\n",
    "        \n",
    "        # Liens vers des tutoriels (simul√©s)\n",
    "        tutoriels = [\n",
    "            {\"titre\": \"Ma√Ætriser le BFR en 10 minutes\", \"duree\": \"10:15\", \"niveau\": \"D√©butant\"},\n",
    "            {\"titre\": \"Analyse DCF compl√®te\", \"duree\": \"25:30\", \"niveau\": \"Avanc√©\"},\n",
    "            {\"titre\": \"Ratios de rentabilit√© expliqu√©s\", \"duree\": \"15:45\", \"niveau\": \"Interm√©diaire\"},\n",
    "            {\"titre\": \"Cas pratique PMI\", \"duree\": \"32:10\", \"niveau\": \"Expert\"}\n",
    "        ]\n",
    "        \n",
    "        for tuto in tutoriels:\n",
    "            with st.expander(f\"üé¨ {tuto['titre']} ({tuto['duree']}) - {tuto['niveau']}\"):\n",
    "                st.write(\"**Description**: \" + \"Contenu du tutoriel d√©taill√©...\")\n",
    "                st.info(\"üé• Fonctionnalit√© vid√©o √† impl√©menter\")\n",
    "    \n",
    "    with tab3:\n",
    "        st.subheader(\"‚ùì Foire Aux Questions\")\n",
    "        \n",
    "        faqs = [\n",
    "            {\n",
    "                \"question\": \"Comment sauvegarder mes analyses ?\",\n",
    "                \"reponse\": \"Utilisez le module 'Mes Analyses' et cliquez sur le bouton 'Sauvegarder' apr√®s chaque analyse.\"\n",
    "            },\n",
    "            {\n",
    "                \"question\": \"Puis-je utiliser l'application sur mobile ?\",\n",
    "                \"reponse\": \"Oui ! FinanceLab est responsive et s'adapte √† tous les appareils.\"\n",
    "            },\n",
    "            {\n",
    "                \"question\": \"Les donn√©es sont-elles s√©curis√©es ?\",\n",
    "                \"reponse\": \"Toutes vos donn√©es sont stock√©es localement dans votre navigateur. Nous ne collectons aucune donn√©e personnelle.\"\n",
    "            }\n",
    "        ]\n",
    "        \n",
    "        for faq in faqs:\n",
    "            with st.expander(f\"‚ùî {faq['question']}\"):\n",
    "                st.write(faq['reponse'])\n",
    "    \n",
    "    with tab4:\n",
    "        st.subheader(\"üìû Support Technique\")\n",
    "        \n",
    "        st.markdown(\"\"\"\n",
    "        **Besoin d'aide ? Contactez-nous :**\n",
    "        \n",
    "        üìß Email : support@financelab.com\n",
    "        üí¨ Chat : Disponible 9h-18h\n",
    "        üìû T√©l√©phone : +33 1 23 45 67 89\n",
    "        \n",
    "        **Heures d'ouverture :**\n",
    "        Lundi - Vendredi : 9h00 - 18h00\n",
    "        Samedi : 10h00 - 16h00\n",
    "        \"\"\")\n",
    "        \n",
    "        # Formulaire de contact\n",
    "        with st.form(\"contact_form\"):\n",
    "            st.write(\"**Envoyez-nous un message**\")\n",
    "            nom = st.text_input(\"Votre nom\")\n",
    "            email = st.text_input(\"Votre email\")\n",
    "            message = st.text_area(\"Votre message\")\n",
    "            \n",
    "            if st.form_submit_button(\"üì§ Envoyer le message\"):\n",
    "                st.success(\"Message envoy√© ! Nous vous r√©pondrons dans les 24h.\")\n",
    "\n",
    "# Footer\n",
    "st.markdown(\"---\")\n",
    "st.markdown(\n",
    "    \"<div style='text-align: center; color: gray;'>\"\n",
    "    \"FinanceLab - Plateforme d'apprentissage de l'analyse financi√®re ‚Ä¢ \"\n",
    "    \"D√©velopp√© avec ‚ù§Ô∏è et Streamlit\"\n",
    "    \"</div>\",\n",
    "    unsafe_allow_html=True\n",
    ")\n",
    "```\n",
    "\n",
    "## üìã **Fichier requirements.txt**\n",
    "\n",
    "```txt\n",
    "streamlit>=1.28.0\n",
    "pandas>=2.0.0\n",
    "numpy>=1.24.0\n",
    "plotly>=5.15.0\n",
    "yfinance>=0.2.18\n",
    "scikit-learn>=1.3.0\n",
    "requests>=2.31.0\n",
    "```\n",
    "\n",
    "## üöÄ **Instructions de Lancement**\n",
    "\n",
    "1. **Enregistrez** le code dans un fichier `app.py`\n",
    "2. **Cr√©ez** le fichier `requirements.txt` avec les d√©pendances\n",
    "3. **Installez** les d√©pendances :\n",
    "   ```bash\n",
    "   pip install -r requirements.txt\n",
    "   ```\n",
    "4. **Lancez** l'application :\n",
    "   ```bash\n",
    "   streamlit run app.py\n",
    "   ```\n",
    "\n",
    "## üéØ **Fonctionnalit√©s Compl√®tes Incluses**\n",
    "\n",
    "### ‚úÖ **Modules d'Apprentissage**\n",
    "- üìã Fondamentaux financiers\n",
    "- üí∞ Performance et rentabilit√©  \n",
    "- ‚öñÔ∏è √âquilibre financier\n",
    "- üìä Analyse par ratios\n",
    "- üéØ √âvaluation d'entreprise\n",
    "- üè¢ Cas pratiques sectoriels\n",
    "- ü§ñ Pr√©visions IA\n",
    "- üåç Donn√©es r√©elles\n",
    "\n",
    "### ‚úÖ **Fonctionnalit√©s Interactives**\n",
    "- Calculateurs dynamiques\n",
    "- Graphiques interactifs (Plotly)\n",
    "- Simulations en temps r√©el\n",
    "- Syst√®me de progression\n",
    "- Sauvegarde des analyses\n",
    "- Dashboard personnel\n",
    "\n",
    "### ‚úÖ **Donn√©es et IA**\n",
    "- Int√©gration donn√©es boursi√®res\n",
    "- Pr√©visions par machine learning\n",
    "- Benchmarking sectoriel\n",
    "- Analyse de sensibilit√©\n",
    "\n",
    "### ‚úÖ **Interface Utilisateur**\n",
    "- Design responsive\n",
    "- Navigation intuitive\n",
    "- Feedback visuel\n",
    "- Notifications contextuelles\n",
    "\n",
    "**L'application est maintenant compl√®te et pr√™te √† l'emploi !** üéâ"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.13.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
